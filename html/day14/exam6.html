<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<style>
		
	</style>
</head>
<body>
	주문 메뉴<br>
	<input type="checkbox" value="짜장면" class="checkbox" onchange="updateOrderList(this.checked,this.value)">짜장면 
	<input type="number" class="count" value="1" min="1" id="짜장면" onchange="updateCount(this.id)"><br>
	<input type="checkbox" value="짬뽕" class="checkbox" onchange="updateOrderList(this.checked,this.value)">짬뽕 
	<input type="number" class="count" value="1" min="1" id="짬뽕" onchange="updateCount(this.id)"><br>
	<input type="checkbox" value="탕수육" class="checkbox" onchange="updateOrderList(this.checked,this.value)">탕수육 
	<input type="number" class="count" value="1" min="1" id="탕수육" onchange="updateCount(this.id)"><br>
	<input type="checkbox" value="볶음밥" class="checkbox" onchange="updateOrderList(this.checked,this.value)">볶음밥 
	<input type="number" class="count" value="1" min="1" id="볶음밥" onchange="updateCount(this.id)"><br>
	<button onchange=""onclick="order2()">주문</button>

	<script>
		function order1(){
			var checkList=document.getElementsByClassName('checkbox');
			var orderList=[];
			var orderCount=document.getElementsByClassName('count');
			for(var i=0;i<checkList.length;i++){
				if(checkList[i].checked) 	
					orderList.push(checkList[i].value+':'+orderCount[i].value);
			}
			if(orderList.length !=0)
				alert('주문내역: '+orderList.join(','));
			else
				alert('주문내역이 없습니다.');
			}

		var list=[];
		var countList=[];
		var msg=[];
		function updateOrderList(isChecked,menu){
			if(isChecked){
				list.push(menu);
				var cnt=document.getElementById(menu).value;
				countList.push(cnt);
				msg.push(menu+':'+cnt);
			}
			else{
				var index = list.indexOf(menu);
				if(index >=0){
					list.splice(index,1);
					countList.splice(index,1);
					msg.splice(index,1);
				}
			}	
		}
		
		function order2(){
			if(msg.length !=0)
				alert('주문내역: '+msg.join(','));
			else
			alert('주문내역이 없습니다.');
		}

		function updateCount(id){
			var index=list.indexOf(id);
			if(index>=0){
				var cnt=document.getElementById(id).value; 
				countList[index] =cnt; 
				msg[index]=list[index]+':'+cnt;
			}
		}
	</script>
</body>
</html>